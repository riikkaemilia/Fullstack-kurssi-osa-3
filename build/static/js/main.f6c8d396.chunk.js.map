{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFilter","onChange","PersonForm","addInfo","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","id","value","type","Person","persons","deletePerson","name","number","onClick","Notification","successMessage","errorMessage","successStyle","color","background","padding","width","errorStyle","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","newFilter","setFilter","setSuccessMessage","setErrorMessage","useEffect","console","log","personService","initialPersons","changeInfo","person","find","n","changedPerson","window","confirm","returnedPerson","map","p","setTimeout","catch","error","filter","numbersToShow","toLowerCase","includes","event","target","preventDefault","infoObject","nameExists","some","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f6c8d396.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handleFilter }) => {\n    return (\n        <div>\n            <label>\n                Filter numbers: <input\n                    onChange={handleFilter} />\n            </label>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addInfo, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return (\n        <form onSubmit={addInfo}>\n            <div>\n                <label>Name: <input\n                        id='name'\n                        value={newName}\n                        onChange={handleNameChange} />\n                </label>\n                <br />\n                <label>Number: <input\n                        id='number'\n                        value={newNumber}\n                        onChange={handleNumberChange} />\n                </label>\n                <br />\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ persons, deletePerson }) => {\n    return (\n        <li>{persons.name} {persons.number} <button onClick={deletePerson} type=\"button\">Delete</button></li>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ successMessage, errorMessage }) => {\n    const successStyle = {\n        color: '#1F513B',\n        background: '#C4E2A2',\n        padding: '0.8em',\n        width: 'fit-content'\n    }\n\n    const errorStyle = {\n        color: 'white',\n        background: '#E13C09',\n        padding: '0.8em',\n        width: 'fit-content'\n    }\n\n    if (successMessage === null && errorMessage === null) {\n        return null\n    } else if (errorMessage === null) {\n        return (\n            <div style={successStyle}>\n                {successMessage}\n            </div>\n        )\n    } else if (successMessage === null) {\n        return (\n            <div style={errorStyle}>\n                {errorMessage}\n            </div>\n        )\n    }\n\n    return (\n        <>\n            <div style={successStyle}>\n                {successMessage}\n            </div>\n            <div style={errorStyle}>\n                {errorMessage}\n            </div>\n        </>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setFilter] = useState('')\n    const [successMessage, setSuccessMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        console.log('effect')\n        personService\n            .getAll()\n            .then(initialPersons => {\n                console.log('promise fulfilled')\n                setPersons(initialPersons)\n            })\n    }, [])\n\n    // console.log('persons', persons.length, 'length')\n\n    const addInfo = (event) => {\n        event.preventDefault()\n        const infoObject = {\n            name: newName,\n            number: newNumber\n        }\n\n        const nameExists = persons.some(person => person.name === newName)\n\n        if (infoObject.name === '') {\n            setErrorMessage(`You must insert a name.`)\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        } else if (nameExists) {\n            changeInfo(newName, newNumber)\n        } else {\n            personService\n                .create(infoObject)\n                .then(returnedPerson => {\n                    //  console.log('returned person is', returnedPerson)\n                    setPersons(persons.concat(returnedPerson))\n                    setNewName('')\n                    setNewNumber('')\n                    setSuccessMessage(`Added ${newName}`)\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setErrorMessage(error.response.data.error)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                    console.log(error.response.data)\n                })\n        }\n    }\n\n    const changeInfo = (name, number) => {\n        const person = persons.find(n => n.name === name)\n        const changedPerson = { ...person, number: number }\n\n        if (person.number === '' || window.confirm(`${name} is already added in the phonebook, do you wish to replace the old number with a new one?`)) {\n            personService\n                .update(person.id, changedPerson)\n                .then(returnedPerson => {\n                    // console.log('returned person is', returnedPerson)\n                    setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n                    setNewName('')\n                    setNewNumber('')\n                    setSuccessMessage(`Changed number of ${name} to ${number}`)\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setErrorMessage(`Information of ${name} has already been removed from the server.`)\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                }\n                )\n        }\n    }\n\n    const deletePersonOf = (name, id) => {\n        if (window.confirm(`Do you want to remove ${name} from phonebook?`)) {\n            personService\n                .remove(id)\n                .then(() => {\n                    setPersons(persons.filter(n => n.id !== id))\n                    // console.log('deleted person with id', id)\n                    setSuccessMessage(`Deleted ${name} from phonebook.`)\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    setErrorMessage(`Information of ${name} has already been removed from the server.`)\n                    setPersons(persons.filter(n => n.id !== id))\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                }\n                )\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n\n    const numbersToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())\n        || person.number.includes(newFilter))\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Filter handleFilter={handleFilter} />\n            <h2>Add a new number:</h2>\n            <PersonForm\n                addInfo={addInfo}\n                newName={newName}\n                newNumber={newNumber}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange} />\n\n            <Notification\n                successMessage={successMessage}\n                errorMessage={errorMessage}\n            />\n\n            <h2>Numbers</h2>\n            <ul>\n                {numbersToShow.map(person =>\n                    <Person\n                        key={person.id}\n                        persons={person}\n                        deletePerson={() => deletePersonOf(person.name, person.id)} />\n                )}\n            </ul>\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}